# Story 1.2: Development Environment & Core Dependencies

## Status
Draft

## Story
**As a** development team member,
**I want** a fully configured development environment with all core dependencies installed and working,
**so that** I can begin implementing Tracilo features immediately without setup friction.

## Acceptance Criteria

1. **Local Development Setup:** Complete local development environment setup with all required tools and versions specified
2. **Dependency Installation:** All critical packages and libraries installed and configured for mobile, web, and API
3. **Development Scripts:** Working development scripts for starting all applications in development mode
4. **Hot Reload:** Live reloading functional for all applications during development
5. **Version Compatibility:** All dependencies verified compatible with the architecture requirements
6. **Team Setup Guide:** Clear documentation enabling any team member to replicate the setup

## Tasks / Subtasks

- [ ] **Task 1: Install Node.js & Package Manager** (AC: 1)
  - [ ] Document Node.js 18+ requirement
  - [ ] Setup pnpm as package manager
  - [ ] Configure pnpm workspace for monorepo
  - [ ] Verify installation with version checks

- [ ] **Task 2: React Native Development Setup** (AC: 1, 2)
  - [ ] Install React Native CLI
  - [ ] Setup Android development environment (Android Studio, SDK)
  - [ ] Configure Metro bundler for monorepo
  - [ ] Install React Native Elements and dependencies
  - [ ] Setup NativeWind configuration

- [ ] **Task 3: Backend Dependencies Installation** (AC: 2, 5)
  - [ ] Install Express.js 4.18+
  - [ ] Install tRPC 10+ for type-safe APIs
  - [ ] Install PostgreSQL client libraries
  - [ ] Install Redis client for session management
  - [ ] Setup Prisma ORM for database operations

- [ ] **Task 4: Testing Framework Installation** (AC: 2)
  - [ ] Install Jest 29+ for all packages
  - [ ] Install React Testing Library 13+ for component testing
  - [ ] Install Supertest 6+ for API testing
  - [ ] Install Detox 20+ for mobile E2E testing
  - [ ] Configure test scripts in all packages

- [ ] **Task 5: Development Tools & Scripts** (AC: 3, 4)
  - [ ] Configure Turborepo dev scripts
  - [ ] Setup concurrent development server startup
  - [ ] Configure hot reload for all applications
  - [ ] Setup development proxy configuration
  - [ ] Create unified development startup script

- [ ] **Task 6: Code Quality Tools** (AC: 1, 2)
  - [ ] Install ESLint with TypeScript rules
  - [ ] Install Prettier for code formatting
  - [ ] Install Husky for Git hooks
  - [ ] Install lint-staged for pre-commit checks
  - [ ] Configure VS Code settings and extensions

- [ ] **Task 7: Environment Configuration** (AC: 1, 6)
  - [ ] Create development environment variables
  - [ ] Setup local database connection
  - [ ] Configure local Redis instance
  - [ ] Setup development API endpoints
  - [ ] Document environment setup process

## Dev Notes

### Required Tools and Versions
From Architecture Document (architecture.md#tech-stack):

**Core Tools:**
- Node.js 18+ (LTS recommended)
- pnpm (latest stable) - Package manager
- React Native CLI - Mobile development
- Android Studio + Android SDK - Mobile emulation

**Development Dependencies:**
- TypeScript 5.2+ - Type-safe development
- ESLint + Prettier - Code quality
- Husky + lint-staged - Git hooks
- Turborepo 1.10+ - Monorepo management

### Mobile Development Environment
From Architecture Document (architecture.md#frontend-architecture):

**React Native Setup:**
- React Native 0.74+ (New Architecture enabled)
- Metro bundler configuration for monorepo
- Android development environment
- Physical device testing capability

**Required Android Setup:**
- Android Studio with latest SDK
- Android 13+ (API level 33+) target
- USB debugging enabled devices

### Backend Development Environment
From Architecture Document (architecture.md#backend-architecture):

**Node.js Backend:**
- Express.js 4.18+ server framework
- tRPC 10+ for type-safe API development
- PostgreSQL 15+ database
- Redis 7.0+ for caching and sessions

**Database Setup:**
- Local PostgreSQL instance
- Prisma ORM for database operations
- Database migration tooling
- Seed data for development

### Development Scripts Configuration
Based on Architecture Document (architecture.md#development-workflow):

**Root Package Scripts:**
```json
{
  "scripts": {
    "dev": "turbo run dev --parallel",
    "dev:mobile": "turbo run dev --filter=mobile",
    "dev:web": "turbo run dev --filter=web",
    "dev:api": "turbo run dev --filter=api",
    "build": "turbo run build",
    "test": "turbo run test",
    "lint": "turbo run lint",
    "type-check": "turbo run type-check"
  }
}
```

### Environment Variables Setup
From Architecture Document (architecture.md#environment-configuration):

**Development Environment (.env.local):**
```bash
# Database
DATABASE_URL=postgresql://localhost:5432/tracilo_dev
REDIS_URL=redis://localhost:6379

# API Configuration
API_PORT=3001
API_HOST=localhost

# Frontend Configuration
NEXT_PUBLIC_API_URL=http://localhost:3001
EXPO_PUBLIC_API_URL=http://localhost:3001

# Development Tools
NODE_ENV=development
DEBUG=tracilo:*
```

### Performance Targets
From Product Requirements Document (product-requirements.md#technical-requirements):

**Development Performance:**
- App launch time: <3 seconds in development
- Hot reload: <2 seconds for changes
- Build time: <30 seconds for incremental builds
- Test suite: <60 seconds for full test run

### Code Quality Configuration
From Architecture Document (architecture.md#coding-standards):

**ESLint Configuration:**
- TypeScript strict rules enabled
- React hooks rules
- Import organization rules
- No unused variables/imports

**Prettier Configuration:**
- Semi-colons required
- Single quotes for strings
- Trailing commas where applicable
- Tab width: 2 spaces

### Testing
Based on Architecture Document (architecture.md#testing-strategy):

**Unit Testing (Jest):**
- Test file pattern: `*.test.ts`, `*.test.tsx`
- Coverage threshold: 80% for business logic
- Mock configuration for external dependencies
- Snapshot testing for components

**Integration Testing:**
- API endpoint testing with Supertest
- Database integration testing
- Component integration testing

**E2E Testing (Detox):**
- Mobile app workflow testing
- Offline scenario testing
- Cross-platform testing setup

**Test Commands:**
```bash
# Run all tests
pnpm test

# Run tests with coverage
pnpm test:coverage

# Run mobile E2E tests
pnpm test:e2e:mobile

# Run API integration tests
pnpm test:integration
```

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-09-18 | 1.0 | Initial story creation | Sarah (PO) |

## Dev Agent Record
*This section is populated by the development agent during implementation*

### Agent Model Used
*Record the specific AI agent model and version used for development*

### Debug Log References
*Reference any debug logs or traces generated during development*

### Completion Notes List
*Notes about the completion of tasks and any issues encountered*

### File List
*List all files created, modified, or affected during story implementation*

## QA Results
*Results from QA Agent QA review of the completed story implementation*